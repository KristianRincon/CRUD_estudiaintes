{% extends "plantilla.html" %}

{% block titulo %}
Gesti√≥n de Materias
{% endblock %}


{% block contenido %}

<!-- para mostrar el error se realiza llamando modeloM (que es la variable apra recibir los datos de app.py ) y la key del diccionario que seria error -->
{% if modeloM.error %}
<div class="alert alert-danger alert-dismissible fade show" role="alert">
    {{ modeloM.error }}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
{% endif %}

<div class="row">
    <div class="col">
        <table class="table table-primary table-striped">
            <thead>
                <tr>
                    <th colspan="4" style="text-align: center;">Listado Materias Registradas</th>
                </tr>
                <tr>
                    <th>Id</th>
                    <th>Nombre</th>
                    <th>Creditos</th>
                </tr>
            </thead>
            <tbody>
                <!-- este for me trae los datos de la app.py osea la lista de tuplas de las materias (siendo modeloM la variable y materias la key del diccionario creado) -->
                {% for materia in modeloM.materias %}
                <tr>
                    <!-- como es una tupla se utilizan las posiciones donde vienen los datos -->
                    <td>{{ materia.0 }}</td>
                    <td>{{ materia.1 }}</th>
                    <td>{{ materia.2 }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

    </div>
    <div class="col bg-primary text-white" style="padding: 10px;">
        <h3>Registro materias nuevas</h3>
        <form action="/admin/materias/nuevo" method="post">
            <div class="mb-3">
                <label for="exampleInputId" class="form-label">Id</label>
                <input type="text" class="form-control" id="exampleInputId" name="id">
              </div>
              <div class="mb-3">
                <label for="exampleInputNombre" class="form-label">Nombre</label>
                <input type="text" class="form-control" id="exampleInputNombre" name="nombre">
              </div>
              <div class="mb-3">
                <label for="exampleInputCreditos" class="form-label">Creditos</label>
                <input type="text" class="form-control" id="exampleInputCreditos" name="creditos">
              </div>
              <div style="text-align: end;"> 
                <button type="submit" class="btn btn-success">Registrar Materia</button>
                </div>
        </form>
    </div>
</div>

{% endblock %}